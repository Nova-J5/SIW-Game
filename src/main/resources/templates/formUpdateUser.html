<!DOCTYPE html>
<html>
	<head>
		<title>
			Impostazioni Utente
		</title>
		<div th:replace="fragments/css :: css-dep"></div>
		<link rel="stylesheet" href="/css/user_settings_style.css" />		
	</head>
	<body>
		
		<div th:replace="fragments/navbar :: navbar"></div>

		<div class="container rounded bg-white mt-5 mb-5">
			<form th:action="@{/updateUser}" method="POST" th:object="${user}" enctype="multipart/form-data" class="mb-4">
			    <div class="row">
			        <div class="col-md-3 border-right">
			            <div class="d-flex flex-column align-items-center text-center p-3 py-5">
							<div>
							    <div class="d-flex justify-content-center mb-4">
							        <img th:src="@{'/display/image/' + ${user.image.id}}"
							        class="rounded-circle mt-5" alt="example placeholder" style="width: 150px;" />
							    </div>
							    <div class="d-flex justify-content-center">
							        <div class="btn btn-primary btn-rounded">
							            <label class="form-label text-white m-1" for="image">Seleziona Foto</label>
							            <input type="file" name="file" class="form-control d-none" id="image" />
										<div class="invalid-feedback" th:if="${#fields.hasErrors('image')}" th:errors="*{image}"></div>
							        </div>
							    </div>
							</div>
							<span class="font-weight-bold" th:text="${user.name} + ' ' + ${user.surname}"></span>
							<span class="text-black-50" th:text="${user.email}"></span>
							<span> </span>
						</div>
			        </div>
			        <div class="col-md-5 border-right">
			            <div class="p-3 py-5">
			                <div class="d-flex justify-content-between align-items-center mb-3">
			                    <h4 class="text-right">Impostazioni</h4>
			                </div>
			                <div class="row mt-2">
			                    <div class="col-md-6">
									<label for="name" class="labels">Nome</label>
									<input th:value="${user.name}" id="name" type="text" class="form-control" placeholder="Nome">
								</div>
			                    <div class="col-md-6">
									<label for="surname" class="labels">Cognome</label>
									<input th:value="${user.surname}" id="surname" type="text" class="form-control" placeholder="Cognome">
								</div>
			                </div>
			                <div class="row mt-3">
			                    <div class="col-md-12">
									<label for="email" class="labels">Email</label>
									<input th:value="${user.email}" id="email" type="text" class="form-control" placeholder="Email">			                    
								</div>
			                </div>
			            </div>
			        </div>
			    </div>
				<span class="mt-5 text-center">
					<button class="btn btn-primary profile-button" type="submit">Salva Modifiche</button>
				</span>
			</form>
		</div>			
	</body>
</html>