<!DOCTYPE html>
<html>
	<head>
		<title>
			Utente
		</title>
		<div th:replace="fragments/css :: css-dep"></div>
		<!-- <link rel="stylesheet" href="/css/user_style.css" /> -->		
	</head>
	<body>
		
		<div th:replace="fragments/navbar :: navbar"></div>
		
		<div class="container">
		    <div class="row d-flex justify-content-center align-items-center">
		        <div class="col col-lg-9 col-xl-7">
		            <div class="card">
		                <div class="rounded-top text-white d-flex flex-row" style="background-color: #000; height:200px;">
		                    <div class="ms-4 mt-5 d-flex flex-column" style="width: 150px;">
		                        <div th:if="${user.image} != null">
		                            <img th:src="@{'/display/image/' + ${user.image.id}}" class="img-fluid img-thumbnail mt-4 mb-2" style="width: 150px; z-index: 1">
		                        </div>
		                        <div th:if="${user.image} == null">
		                            <img src="https://cdn.pixabay.com/photo/2012/04/26/19/43/profile-42914_1280.png" class="img-fluid img-thumbnail mt-4" style="width: 150px; z-index: 1">
		                        </div>
		                        <button type="button" class="btn btn-dark" data-mdb-ripple-color="dark" style="z-index: 1;">
		                            <a class="text-white text-decoration-none" th:href="@{'/formUpdateUser/' + ${user.id}}">Modifica Profilo</a>
		                        </button>
		                    </div>
		                    <div class="ms-3" style="margin-top: 130px;">
		                        <h5 th:text="${user.name} + ' ' + ${user.surname}"></h5>
		                        <p th:text="'@' + ${userDetails.username}"></p>
		                    </div>
		                </div>
		                <div class="p-4 text-black" style="background-color: #f8f9fa;">
		                    <div class="d-flex justify-content-end text-center py-1">
		                        <div>
		                            <p class="mb-1 h5" th:text="${#lists.size(currentlyPlaying)}"></p>
		                            <p class="small text-muted mb-0">Giochi terminati</p>
		                        </div>
		                        <div class="px-3">
		                            <p class="mb-1 h5" th:text="${#lists.size(played)}"></p>
		                            <p class="small text-muted mb-0">Giochi correnti</p>
		                        </div>
		                        <div>
		                            <p class="mb-1 h5" th:text="${#lists.size(reviews)}"></p>
		                            <p class="small text-muted mb-0">Recensioni</p>
		                        </div>
		                    </div>
		                </div>
		                
		                <div class="card-body p-4 text-black">
		                    <div class="d-flex justify-content-between align-items-center mb-4">
		                        <p class="lead fw-normal mb-0">Giochi completati</p>
		                        <p class="mb-0"><a th:href="@{'/played/' + ${user.id}}" class="text-muted">Mostra tutti</a></p>
		                    </div>
		                    <div class="row g-2">
		                        <div class="col mb-2">
		                            <div th:if="${firstPlayed.image} != null">
		                              <img th:src="@{'/display/image/' + ${firstPlayed.image.id}}" class="w-100 rounded-3"/>
		                            </div>
		                            <div th:if="${firstPlayed.image} == null" >
		                                <img src="/images/image-not-available.jpeg" class="w-100 rounded-3"/>
		                            </div>
		                        </div>
		                        <div class="col mb-2">
		                            <div th:if="${secondPlayed.image} != null">
		                              <img th:src="@{'/display/image/' + ${secondPlayed.image.id}}" class="w-100 rounded-3"/>
		                            </div>
		                            <div th:if="${secondPlayed.image} == null" >
		                                <img src="/images/image-not-available.jpeg" class="w-100 rounded-3"/>
		                            </div>
		                        </div>
		                    </div>
		                    <div class="row g-2">
		                        <div class="col">
		                            <div th:if="${thirdPlayed.image} != null">
		                              <img th:src="@{'/display/image/' + ${thirdPlayed.image.id}}" class="w-100 rounded-3"/>
		                            </div>
		                            <div th:if="${thirdPlayed.image} == null" >
		                                <img src="/images/image-not-available.jpeg" class="w-100 rounded-3"/>
		                            </div>
		                        </div>
		                        <div class="col">
		                            <div th:if="${fourthPlayed.image} != null">
		                              <img th:src="@{'/display/image/' + ${fourthPlayedimage.id}}" class="w-100 rounded-3"/>
		                            </div>
		                            <div th:if="${fourthPlayed.image} == null" >
		                                <img src="/images/image-not-available.jpeg" class="w-100 rounded-3"/>
		                            </div>
		                        </div>
		                    </div>
		                </div>
		                
						<div class="card-body p-4 text-black">
		                    <div class="d-flex justify-content-between align-items-center mb-4">
		                        <p class="lead fw-normal mb-0">Giochi correnti</p>
		                        <p class="mb-0"><a th:href="@{'/currentlyPlaying/' + ${user.id}}" class="text-muted">Mostra tutti</a></p>
		                    </div>
		                    <div class="row g-2">
		                        <div class="col mb-2">
		                            <div th:if="${firstCurrentlyPlaying.image} != null">
		                              <img th:src="@{'/display/image/' + ${firstCurrentlyPlaying.image.id}}" class="w-100 rounded-3"/>
		                            </div>
		                            <div th:if="${firstCurrentlyPlaying.image} == null" >
		                                <img src="/images/image-not-available.jpeg" class="w-100 rounded-3"/>
		                            </div>
		                        </div>
		                        <div class="col mb-2">
		                            <div th:if="${secondCurrentlyPlaying.image} != null">
		                              <img th:src="@{'/display/image/' + ${secondCurrentlyPlaying.image.id}}" class="w-100 rounded-3"/>
		                            </div>
		                            <div th:if="${secondCurrentlyPlaying.image} == null" >
		                                <img src="/images/image-not-available.jpeg" class="w-100 rounded-3"/>
		                            </div>
		                        </div>
		                    </div>
		                    <div class="row g-2">
		                        <div class="col">
		                            <div th:if="${thirdCurrentlyPlaying.image} != null">
		                              <img th:src="@{'/display/image/' + ${thirdCurrentlyPlaying.image.id}}" class="w-100 rounded-3"/>
		                            </div>
		                            <div th:if="${thirdCurrentlyPlaying.image} == null" >
		                                <img src="/images/image-not-available.jpeg" class="w-100 rounded-3"/>
		                            </div>
		                        </div>
		                        <div class="col">
		                            <div th:if="${fourthCurrentlyPlaying.image} != null">
		                              <img th:src="@{'/display/image/' + ${fourthCurrentlyPlaying.image.id}}" class="w-100 rounded-3"/>
		                            </div>
		                            <div th:if="${fourthCurrentlyPlaying.image} == null" >
		                                <img src="/images/image-not-available.jpeg" class="w-100 rounded-3"/>
		                            </div>
		                        </div>
		                    </div>
		                </div>
		                
						<div class="card-body p-4 text-black">
		                    <div class="d-flex justify-content-between align-items-center mb-4">
		                        <p class="lead fw-normal mb-0">Giochi recensiti</p>
		                        <p class="mb-0"><a th:href="@{'/reviews/' + ${user.id}}" class="text-muted">Mostra tutti</a></p>
		                    </div>
		                    <div class="row g-2">
		                        <div class="col mb-2">
		                            <div th:if="${firstReviewed.image} != null">
		                              <img th:src="@{'/display/image/' + ${firstReviewed.image.id}}" class="w-100 rounded-3"/>
		                            </div>
		                            <div th:if="${firstReviewed.image} == null" >
		                                <img src="/images/image-not-available.jpeg" class="w-100 rounded-3"/>
		                            </div>
		                        </div>
		                        <div class="col mb-2">
		                            <div th:if="${secondReviewed.image} != null">
		                              <img th:src="@{'/display/image/' + ${secondReviewed.image.id}}" class="w-100 rounded-3"/>
		                            </div>
		                            <div th:if="${secondReviewed.image} == null" >
		                                <img src="/images/image-not-available.jpeg" class="w-100 rounded-3"/>
		                            </div>
		                        </div>
		                    </div>
		                    <div class="row g-2">
		                        <div class="col">
		                            <div th:if="${thirdReviewed.image} != null">
		                              <img th:src="@{'/display/image/' + ${thirdReviewed.image.id}}" class="w-100 rounded-3"/>
		                            </div>
		                            <div th:if="${thirdReviewed.image} == null" >
		                                <img src="/images/image-not-available.jpeg" class="w-100 rounded-3"/>
		                            </div>
		                        </div>
		                        <div class="col">
		                            <div th:if="${fourthReviewed.image} != null">
		                              <img th:src="@{'/display/image/' + ${fourthReviewed.image.id}}" class="w-100 rounded-3"/>
		                            </div>
		                            <div th:if="${fourthReviewed.image} == null" >
		                                <img src="/images/image-not-available.jpeg" class="w-100 rounded-3"/>
		                            </div>
		                        </div>
		                    </div>
		                </div>
		                
		            </div>
		        </div>
		    </div>
		</div>
	    
		<div th:replace="fragments/footer :: footer"></div>

	</body>
</html>