<!DOCTYPE html>
<html>
	<head>
		<title>
			Utente
		</title>
		<div th:replace="fragments/css :: css-dep"></div>
		<!-- <link rel="stylesheet" href="/css/user_style.css" /> -->		
	</head>
	<body style=" background-color: #323232;  color: white;">
		<div th:replace="fragments/navbar :: navbar"></div>
		
		<div class="container  ">
		    <div class="row d-flex justify-content-center align-items-center mt-4 mb-4">
		        <div class="col col-lg-9 col-xl-7">
		            <div class="card">
		                <div class="rounded-top text-white d-flex flex-row" style="background-color: #000; height:200px;">
		                    <div class="ms-4 mt-5 d-flex flex-column" style="position: relative; width: 150px;">
		                        <div th:if="${user.image} != null">
		                            <img th:src="@{'/display/image/' + ${user.image.id}}" class="rounded-cicle img-thumbnail mt-5 mb-2" style="position: absolute; border-radius: 100%; height: 150px; width: 150px; z-index: 1">
		                        </div>
		                        <div th:if="${user.image} == null">
		                            <img src="https://cdn.pixabay.com/photo/2012/04/26/19/43/profile-42914_1280.png" class="rounded-circle img-thumbnail mt-5 mb-2" style="position: absolute; border-radius: 100%; height: 150px; width: 150px; z-index: 1">
		                        </div>
		                    </div>
		                    <div class="ms-3" style="margin-top: 130px;">
		                        <h5 th:text="${user.name} + ' ' + ${user.surname}"></h5>
		                        <p th:text="'@' + ${userDetails.username}"></p>
		                    </div>
		                </div>
		                <div class="p-4 text-black" style="background-color: #f8f9fa;">
		                    <button type="button" class="mt-5 btn btn-dark" data-mdb-ripple-color="dark" style="z-index: 1;">
		                        <a class="text-white text-decoration-none" th:href="@{'/formUpdateUser/' + ${user.id}}">Modifica Profilo</a>
		                    </button>
		                    <div class="d-flex justify-content-end text-center py-1">
		                        <div>
		                            <p class="mb-1 h5" th:text="${#lists.size(played)}"></p>
		                            <p class="small text-muted mb-0">Giochi terminati</p>
		                        </div>
		                        <div class="px-3">
		                            <p class="mb-1 h5" th:text="${#lists.size(currentlyPlaying)}"></p>
		                            <p class="small text-muted mb-0">Giochi correnti</p>
		                        </div>
		                        <div>
		                            <p class="mb-1 h5" th:text="${#lists.size(reviews)}"></p>
		                            <p class="small text-muted mb-0">Recensioni</p>
		                        </div>
		                    </div>
		                </div>
		                
		                <div class="card-body p-4 text-black">
		                    <div class="d-flex justify-content-between align-items-center mb-4">
		                        <p class="lead fw-normal mb-0">Giochi completati</p>
		                        <p class="mb-0"><a th:href="@{'/played/' + ${user.id}}" class="text-muted">Mostra tutti</a></p>
		                    </div>
		                    <div class="row g-2">
		                        <div class="col mb-2" th:if="${firstPlayed}">
		                            <div th:if="${firstPlayed.imageForGames} != null">
		                              <img th:src="@{'/display/image/' + ${firstPlayed.imageForGames.id}}" class="w-100 rounded-3"/>
		                            </div>
		                            <div th:if="${firstPlayed.imageForGames} == null" >
		                                <img src="/images/image-not-available.jpeg" class="w-100 rounded-3"/>
		                            </div>
		                        </div>
		                        <div class="col mb-2" th:if="${secondPlayed}">
		                            <div th:if="${secondPlayed.imageForGames} != null">
		                              <img th:src="@{'/display/image/' + ${secondPlayed.imageForGames.id}}" class="w-100 rounded-3"/>
		                            </div>
		                            <div th:if="${secondPlayed.imageForGames} == null" >
		                                <img src="/images/image-not-available.jpeg" class="w-100 rounded-3"/>
		                            </div>
		                        </div>
		                    </div>
		                    <div class="row g-2">
		                        <div class="col" th:if="${thirdPlayed}">
		                            <div th:if="${thirdPlayed.imageForGames} != null">
		                              <img th:src="@{'/display/image/' + ${thirdPlayed.imageForGames.id}}" class="w-100 rounded-3"/>
		                            </div>
		                            <div th:if="${thirdPlayed.imageForGames} == null" >
		                                <img src="/images/image-not-available.jpeg" class="w-100 rounded-3"/>
		                            </div>
		                        </div>
		                        <div class="col" th:if="${fourthPlayed}">
		                            <div th:if="${fourthPlayed.imageForGames} != null">
		                              <img th:src="@{'/display/image/' + ${fourthPlayed.imageForGames.id}}" class="w-100 rounded-3"/>
		                            </div>
		                            <div th:if="${fourthPlayed.imageForGames} == null" >
		                                <img src="/images/image-not-available.jpeg" class="w-100 rounded-3"/>
		                            </div>
		                        </div>
		                    </div>
		                </div>
		                
						<div class="card-body p-4 text-black">
		                    <div class="d-flex justify-content-between align-items-center mb-4">
		                        <p class="lead fw-normal mb-0">Giochi correnti</p>
		                        <p class="mb-0"><a th:href="@{'/currentlyPlaying/' + ${user.id}}" class="text-muted">Mostra tutti</a></p>
		                    </div>
		                    <div class="row g-2">
		                        <div class="col mb-2" th:if="${firstCurrentlyPlaying}">
		                            <div th:if="${firstCurrentlyPlaying.imageForGames} != null">
		                              <img th:src="@{'/display/image/' + ${firstCurrentlyPlaying.imageForGames.id}}" class="w-100 rounded-3"/>
		                            </div>
		                            <div th:if="${firstCurrentlyPlaying.imageForGames} == null" >
		                                <img src="/images/image-not-available.jpeg" class="w-100 rounded-3"/>
		                            </div>
		                        </div>
		                        <div class="col mb-2" th:if="${secondCurrentlyPlaying}">
		                            <div th:if="${secondCurrentlyPlaying.imageForGames} != null">
		                              <img th:src="@{'/display/image/' + ${secondCurrentlyPlaying.imageForGames.id}}" class="w-100 rounded-3"/>
		                            </div>
		                            <div th:if="${secondCurrentlyPlaying.imageForGames} == null" >
		                                <img src="/images/image-not-available.jpeg" class="w-100 rounded-3"/>
		                            </div>
		                        </div>
		                    </div>
		                    <div class="row g-2">
		                        <div class="col" th:if="${thirdCurrentlyPlaying}">
		                            <div th:if="${thirdCurrentlyPlaying.imageForGames} != null">
		                              <img th:src="@{'/display/image/' + ${thirdCurrentlyPlaying.imageForGames.id}}" class="w-100 rounded-3"/>
		                            </div>
		                            <div th:if="${thirdCurrentlyPlaying.imageForGames} == null" >
		                                <img src="/images/image-not-available.jpeg" class="w-100 rounded-3"/>
		                            </div>
		                        </div>
		                        <div class="col" th:if="${fourthCurrentlyPlaying}">
		                            <div th:if="${fourthCurrentlyPlaying.imageForGames} != null">
		                              <img th:src="@{'/display/image/' + ${fourthCurrentlyPlaying.imageForGames.id}}" class="w-100 rounded-3"/>
		                            </div>
		                            <div th:if="${fourthCurrentlyPlaying.imageForGames} == null" >
		                                <img src="/images/image-not-available.jpeg" class="w-100 rounded-3"/>
		                            </div>
		                        </div>
		                    </div>
		                </div>
		                
						<div class="card-body p-4 text-black">
		                    <div class="d-flex justify-content-between align-items-center mb-4">
		                        <p class="lead fw-normal mb-0">Giochi recensiti</p>
		                        <p class="mb-0"><a th:href="@{'/reviews/' + ${user.id}}" class="text-muted">Mostra tutti</a></p>
		                    </div>
		                    <div class="row g-2">
		                        <div class="col mb-2" th:if="${firstReviewed}">
		                            <div th:if="${firstReviewed.game.imageForGames} != null">
		                              <img th:src="@{'/display/image/' + ${firstReviewed.game.imageForGames.id}}" class="w-100 rounded-3"/>
		                            </div>
		                            <div th:if="${firstReviewed.game.imageForGames} == null" >
		                                <img src="/images/image-not-available.jpeg" class="w-100 rounded-3"/>
		                            </div>
		                        </div>
		                        <div class="col mb-2" th:if="${secondReviewed}">
		                            <div th:if="${secondReviewed.game.imageForGames} != null">
		                              <img th:src="@{'/display/image/' + ${secondReviewed.game.imageForGames.id}}" class="w-100 rounded-3"/>
		                            </div>
		                            <div th:if="${secondReviewed.game.imageForGames} == null" >
		                                <img src="/images/image-not-available.jpeg" class="w-100 rounded-3"/>
		                            </div>
		                        </div>
		                    </div>
		                    <div class="row g-2">
		                        <div class="col" th:if="${thirdReviewed}">
		                            <div th:if="${thirdReviewed.game.imageForGames} != null">
		                              <img th:src="@{'/display/image/' + ${thirdReviewed.game.imageForGames.id}}" class="w-100 rounded-3"/>
		                            </div>
		                            <div th:if="${thirdReviewed.game.imageForGames} == null" >
		                                <img src="/images/image-not-available.jpeg" class="w-100 rounded-3"/>
		                            </div>
		                        </div>
		                        <div class="col" th:if="${fourthReviewed}">
		                            <div th:if="${fourthReviewed.game.imageForGames} != null">
		                              <img th:src="@{'/display/image/' + ${fourthReviewed.game.imageForGames.id}}" class="w-100 rounded-3"/>
		                            </div>
		                            <div th:if="${fourthReviewed.game.imageForGames} == null" >
		                                <img src="/images/image-not-available.jpeg" class="w-100 rounded-3"/>
		                            </div>
		                        </div>
		                    </div>
		                </div>
		                
		            </div>
		        </div>
		    </div>
		</div>
	    
		<div th:replace="fragments/footer :: footer"></div>

	</body>
</html>